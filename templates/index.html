{% extends "base.html" %}

{% block content %}
<section class="search-section">
    <h2 class="section-title">Recherche Cybersécurité</h2>
    <p class="section-subtitle">
        Recherchez parmi des milliers de documents spécialisés en cybersécurité indexés dans notre base de données.
    </p>
    
    <form method="POST" class="search-form">
        <input 
            type="text" 
            name="requete" 
            placeholder="Entrez votre requête (ex: ransomware, CVE-2024, phishing...)" 
            value="{{ requete }}"
            class="search-input"
        >
        <button type="submit" class="search-button">
            <i class="fas fa-search"></i> Rechercher
        </button>
    </form>
</section>

{% if resultats %}
    <section class="results-section">
        <h2 class="results-title">Résultats pour : "{{ requete }}"</h2>
        <ul class="results-list">
            {% for r in resultats %}
            <li class="result-item">
                <a href="{{ url_for('ouvrir_fichier', chemin=r.chemin) }}" target="_blank" class="result-link">
                    <i class="fas fa-file-alt"></i> {{ r.titre }}
                </a>
                <div class="result-meta">
                    <span class="result-score">Score : {{ r.score }}</span>
                    <span><i class="far fa-calendar"></i> Document</span>
                </div>
            </li>
            {% endfor %}
        </ul>
    </section>
{% elif requete %}
    <section class="results-section">
        <div class="no-results">
            <i class="fas fa-search fa-2x" style="margin-bottom: 15px; color: #6c757d;"></i>
            <p>Aucun résultat trouvé pour "<strong>{{ requete }}</strong>"</p>
            <p style="margin-top: 10px; font-size: 14px;">Essayez avec d'autres termes ou vérifiez l'orthographe.</p>
        </div>
    </section>
{% endif %}
{% endblock %}
